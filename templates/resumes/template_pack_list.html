{% extends 'base.html' %}

{% block content %}
<div class="template-page">
    <div class="template-hero">
        <div>
            <div class="template-eyebrow">Resume System</div>
            <h1 class="template-title">Template Packs</h1>
            <p class="template-subtitle">Group templates and assign by marketing role.</p>
        </div>
        <a href="{% url 'resume-template-pack-create' %}" class="btn-primary">New Pack</a>
    </div>

    <div class="template-card">
        <form method="get" class="search-row">
            <input type="text" name="q" value="{{ request.GET.q }}" placeholder="Search packs..." class="input">
            <button class="btn-secondary">Search</button>
        </form>
    </div>

    <div class="template-grid">
        {% for p in packs %}
        <div class="template-card card-compact">
            <div class="card-top">
                <div>
                    <div class="card-title">{{ p.name }}</div>
                    <div class="card-meta">Updated {{ p.updated_at|date:"Y-m-d" }}</div>
                </div>
                <span class="badge {% if p.is_active %}badge-on{% else %}badge-off{% endif %}">
                    {% if p.is_active %}Active{% else %}Inactive{% endif %}
                </span>
            </div>
            <div class="card-actions">
                <a href="{% url 'resume-template-pack-edit' p.pk %}" class="btn-ghost">Edit</a>
            </div>
        </div>
        {% empty %}
        <div class="template-card">
            <div class="card-title">No packs yet</div>
            <div class="card-meta">Create your first pack to get started.</div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    :root {
        --ink: #0f172a;
        --muted: #64748b;
        --bg: #f4f2ee;
        --card: #ffffff;
        --accent: #0b5c9e;
        --border: #e2e8f0;
    }
    .template-page { background: var(--bg); min-height: 100vh; padding: 32px 24px 56px; }
    .template-hero { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .template-eyebrow { text-transform: uppercase; letter-spacing: 0.2em; font-size: 12px; color: var(--muted); }
    .template-title { font-size: 32px; font-weight: 800; color: var(--ink); margin: 6px 0; }
    .template-subtitle { color: var(--muted); font-size: 14px; }
    .template-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 18px; box-shadow: 0 10px 30px rgba(15,23,42,0.06); }
    .template-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 16px; }
    .card-compact { display: flex; flex-direction: column; gap: 10px; }
    .card-top { display: flex; align-items: center; justify-content: space-between; }
    .card-title { font-size: 16px; font-weight: 700; color: var(--ink); }
    .card-meta { font-size: 12px; color: var(--muted); }
    .card-actions { display: flex; gap: 8px; }
    .badge { font-size: 11px; padding: 4px 8px; border-radius: 999px; }
    .badge-on { background: #e0f2fe; color: #0369a1; }
    .badge-off { background: #f1f5f9; color: #64748b; }
    .input { width: 100%; border: 1px solid var(--border); border-radius: 10px; padding: 10px 12px; font-size: 14px; }
    .search-row { display: grid; grid-template-columns: 1fr auto; gap: 10px; }
    .btn-primary { background: var(--accent); color: #fff; border: 0; padding: 10px 14px; border-radius: 10px; font-weight: 700; text-decoration: none; }
    .btn-secondary { background: #e2e8f0; color: var(--ink); border: 0; padding: 10px 14px; border-radius: 10px; font-weight: 600; }
    .btn-ghost { border: 1px solid var(--border); padding: 8px 12px; border-radius: 10px; color: var(--ink); text-decoration: none; font-weight: 600; }
    @media (max-width: 640px) { .template-hero { flex-direction: column; align-items: flex-start; gap: 12px; } }
</style>
{% endblock %}
